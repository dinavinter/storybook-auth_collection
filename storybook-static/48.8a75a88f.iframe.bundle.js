(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1044:function(module,exports,__webpack_require__){"use strict";var toIndexedObject=__webpack_require__(93),toInteger=__webpack_require__(133),toLength=__webpack_require__(75),arrayMethodIsStrict=__webpack_require__(171),min=Math.min,$lastIndexOf=[].lastIndexOf,NEGATIVE_ZERO=!!$lastIndexOf&&1/[1].lastIndexOf(1,-0)<0,STRICT_METHOD=arrayMethodIsStrict("lastIndexOf"),FORCED=NEGATIVE_ZERO||!STRICT_METHOD;module.exports=FORCED?function lastIndexOf(searchElement){if(NEGATIVE_ZERO)return $lastIndexOf.apply(this,arguments)||0;var O=toIndexedObject(this),length=toLength(O.length),index=length-1;for(arguments.length>1&&(index=min(index,toInteger(arguments[1]))),index<0&&(index=length+index);index>=0;index--)if(index in O&&O[index]===searchElement)return index||0;return-1}:$lastIndexOf},1122:function(module,exports,__webpack_require__){var $=__webpack_require__(22),lastIndexOf=__webpack_require__(1044);$({target:"Array",proto:!0,forced:lastIndexOf!==[].lastIndexOf},{lastIndexOf:lastIndexOf})},940:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ion_infinite_scroll",(function(){return InfiniteScroll}));__webpack_require__(1122),__webpack_require__(343),__webpack_require__(69),__webpack_require__(13),__webpack_require__(131);var _index_4644c745_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(146),_ionic_global_9a60c1b6_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(253);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var InfiniteScroll=function(){function InfiniteScroll(hostRef){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,InfiniteScroll),Object(_index_4644c745_js__WEBPACK_IMPORTED_MODULE_5__.m)(this,hostRef),this.ionInfinite=Object(_index_4644c745_js__WEBPACK_IMPORTED_MODULE_5__.e)(this,"ionInfinite",7),this.thrPx=0,this.thrPc=0,this.didFire=!1,this.isBusy=!1,this.isLoading=!1,this.threshold="15%",this.disabled=!1,this.position="bottom",this.onScroll=function(){var scrollEl=_this.scrollEl;if(!scrollEl||!_this.canStart())return 1;var infiniteHeight=_this.el.offsetHeight;if(0===infiniteHeight)return 2;var scrollTop=scrollEl.scrollTop,scrollHeight=scrollEl.scrollHeight,height=scrollEl.offsetHeight,threshold=0!==_this.thrPc?height*_this.thrPc:_this.thrPx;if(("bottom"===_this.position?scrollHeight-infiniteHeight-scrollTop-threshold-height:scrollTop-infiniteHeight-threshold)<0){if(!_this.didFire)return _this.isLoading=!0,_this.didFire=!0,_this.ionInfinite.emit(),3}else _this.didFire=!1;return 4}}var _complete,_connectedCallback;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(InfiniteScroll,[{key:"thresholdChanged",value:function thresholdChanged(){var val=this.threshold;val.lastIndexOf("%")>-1?(this.thrPx=0,this.thrPc=parseFloat(val)/100):(this.thrPx=parseFloat(val),this.thrPc=0)}},{key:"disabledChanged",value:function disabledChanged(){var disabled=this.disabled;disabled&&(this.isLoading=!1,this.isBusy=!1),this.enableScrollEvents(!disabled)}},{key:"connectedCallback",value:(_connectedCallback=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var contentEl,_this2=this;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(contentEl=this.el.closest("ion-content")){_context.next=4;break}return console.error("<ion-infinite-scroll> must be used inside an <ion-content>"),_context.abrupt("return");case 4:return _context.next=6,contentEl.getScrollElement();case 6:this.scrollEl=_context.sent,this.thresholdChanged(),this.disabledChanged(),"top"===this.position&&Object(_index_4644c745_js__WEBPACK_IMPORTED_MODULE_5__.o)((function(){_this2.scrollEl&&(_this2.scrollEl.scrollTop=_this2.scrollEl.scrollHeight-_this2.scrollEl.clientHeight)}));case 10:case"end":return _context.stop()}}),_callee,this)}))),function connectedCallback(){return _connectedCallback.apply(this,arguments)})},{key:"disconnectedCallback",value:function disconnectedCallback(){this.enableScrollEvents(!1),this.scrollEl=void 0}},{key:"complete",value:(_complete=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var scrollEl,prev,_this3=this;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(scrollEl=this.scrollEl,this.isLoading&&scrollEl){_context2.next=3;break}return _context2.abrupt("return");case 3:this.isLoading=!1,"top"===this.position&&(this.isBusy=!0,prev=scrollEl.scrollHeight-scrollEl.scrollTop,requestAnimationFrame((function(){Object(_index_4644c745_js__WEBPACK_IMPORTED_MODULE_5__.f)((function(){var newScrollTop=scrollEl.scrollHeight-prev;requestAnimationFrame((function(){Object(_index_4644c745_js__WEBPACK_IMPORTED_MODULE_5__.o)((function(){scrollEl.scrollTop=newScrollTop,_this3.isBusy=!1}))}))}))})));case 5:case"end":return _context2.stop()}}),_callee2,this)}))),function complete(){return _complete.apply(this,arguments)})},{key:"canStart",value:function canStart(){return!(this.disabled||this.isBusy||!this.scrollEl||this.isLoading)}},{key:"enableScrollEvents",value:function enableScrollEvents(shouldListen){this.scrollEl&&(shouldListen?this.scrollEl.addEventListener("scroll",this.onScroll):this.scrollEl.removeEventListener("scroll",this.onScroll))}},{key:"render",value:function render(){var _class,mode=Object(_ionic_global_9a60c1b6_js__WEBPACK_IMPORTED_MODULE_6__.c)(this),disabled=this.disabled;return Object(_index_4644c745_js__WEBPACK_IMPORTED_MODULE_5__.j)(_index_4644c745_js__WEBPACK_IMPORTED_MODULE_5__.b,{class:(_class={},_class[mode]=!0,_class["infinite-scroll-loading"]=this.isLoading,_class["infinite-scroll-enabled"]=!disabled,_class)})}},{key:"el",get:function get(){return Object(_index_4644c745_js__WEBPACK_IMPORTED_MODULE_5__.g)(this)}}],[{key:"watchers",get:function get(){return{threshold:["thresholdChanged"],disabled:["disabledChanged"]}}}]),InfiniteScroll}();InfiniteScroll.style="ion-infinite-scroll{display:none;width:100%}.infinite-scroll-enabled{display:block}"}}]);