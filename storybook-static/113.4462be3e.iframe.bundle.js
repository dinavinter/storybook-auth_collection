(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{1160:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"KEYBOARD_DID_CLOSE",(function(){return KEYBOARD_DID_CLOSE})),__webpack_require__.d(__webpack_exports__,"KEYBOARD_DID_OPEN",(function(){return KEYBOARD_DID_OPEN})),__webpack_require__.d(__webpack_exports__,"copyVisualViewport",(function(){return copyVisualViewport})),__webpack_require__.d(__webpack_exports__,"keyboardDidClose",(function(){return keyboardDidClose})),__webpack_require__.d(__webpack_exports__,"keyboardDidOpen",(function(){return keyboardDidOpen})),__webpack_require__.d(__webpack_exports__,"keyboardDidResize",(function(){return keyboardDidResize})),__webpack_require__.d(__webpack_exports__,"resetKeyboardAssist",(function(){return resetKeyboardAssist})),__webpack_require__.d(__webpack_exports__,"setKeyboardClose",(function(){return setKeyboardClose})),__webpack_require__.d(__webpack_exports__,"setKeyboardOpen",(function(){return setKeyboardOpen})),__webpack_require__.d(__webpack_exports__,"startKeyboardAssist",(function(){return startKeyboardAssist})),__webpack_require__.d(__webpack_exports__,"trackViewportChanges",(function(){return trackViewportChanges}));__webpack_require__(18);var KEYBOARD_DID_OPEN="ionKeyboardDidShow",KEYBOARD_DID_CLOSE="ionKeyboardDidHide",previousVisualViewport={},currentVisualViewport={},keyboardOpen=!1,resetKeyboardAssist=function resetKeyboardAssist(){previousVisualViewport={},currentVisualViewport={},keyboardOpen=!1},startKeyboardAssist=function startKeyboardAssist(win){startNativeListeners(win),win.visualViewport&&(currentVisualViewport=copyVisualViewport(win.visualViewport),win.visualViewport.onresize=function(){trackViewportChanges(win),keyboardDidOpen()||keyboardDidResize(win)?setKeyboardOpen(win):keyboardDidClose(win)&&setKeyboardClose(win)})},startNativeListeners=function startNativeListeners(win){win.addEventListener("keyboardDidShow",(function(ev){return setKeyboardOpen(win,ev)})),win.addEventListener("keyboardDidHide",(function(){return setKeyboardClose(win)}))},setKeyboardOpen=function setKeyboardOpen(win,ev){fireKeyboardOpenEvent(win,ev),keyboardOpen=!0},setKeyboardClose=function setKeyboardClose(win){fireKeyboardCloseEvent(win),keyboardOpen=!1},keyboardDidOpen=function keyboardDidOpen(){var scaledHeightDifference=(previousVisualViewport.height-currentVisualViewport.height)*currentVisualViewport.scale;return!keyboardOpen&&previousVisualViewport.width===currentVisualViewport.width&&scaledHeightDifference>150},keyboardDidResize=function keyboardDidResize(win){return keyboardOpen&&!keyboardDidClose(win)},keyboardDidClose=function keyboardDidClose(win){return keyboardOpen&&currentVisualViewport.height===win.innerHeight},fireKeyboardOpenEvent=function fireKeyboardOpenEvent(win,nativeEv){var keyboardHeight=nativeEv?nativeEv.keyboardHeight:win.innerHeight-currentVisualViewport.height,ev=new CustomEvent(KEYBOARD_DID_OPEN,{detail:{keyboardHeight:keyboardHeight}});win.dispatchEvent(ev)},fireKeyboardCloseEvent=function fireKeyboardCloseEvent(win){var ev=new CustomEvent(KEYBOARD_DID_CLOSE);win.dispatchEvent(ev)},trackViewportChanges=function trackViewportChanges(win){previousVisualViewport=Object.assign({},currentVisualViewport),currentVisualViewport=copyVisualViewport(win.visualViewport)},copyVisualViewport=function copyVisualViewport(visualViewport){return{width:Math.round(visualViewport.width),height:Math.round(visualViewport.height),offsetTop:visualViewport.offsetTop,offsetLeft:visualViewport.offsetLeft,pageTop:visualViewport.pageTop,pageLeft:visualViewport.pageLeft,scale:visualViewport.scale}}}}]);