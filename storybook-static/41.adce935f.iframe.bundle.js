(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{1010:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return addEventListener})),__webpack_require__.d(__webpack_exports__,"b",(function(){return raf})),__webpack_require__.d(__webpack_exports__,"c",(function(){return componentOnReady})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getAriaLabel})),__webpack_require__.d(__webpack_exports__,"e",(function(){return renderHiddenInput})),__webpack_require__.d(__webpack_exports__,"f",(function(){return clamp})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getElementRoot})),__webpack_require__.d(__webpack_exports__,"h",(function(){return findItemLabel})),__webpack_require__.d(__webpack_exports__,"i",(function(){return debounceEvent})),__webpack_require__.d(__webpack_exports__,"j",(function(){return inheritAttributes})),__webpack_require__.d(__webpack_exports__,"k",(function(){return isEndSide})),__webpack_require__.d(__webpack_exports__,"l",(function(){return assert})),__webpack_require__.d(__webpack_exports__,"m",(function(){return debounce})),__webpack_require__.d(__webpack_exports__,"n",(function(){return hasShadowDom})),__webpack_require__.d(__webpack_exports__,"o",(function(){return now})),__webpack_require__.d(__webpack_exports__,"p",(function(){return pointerCoord})),__webpack_require__.d(__webpack_exports__,"q",(function(){return removeEventListener}));__webpack_require__(130),__webpack_require__(47),__webpack_require__(508),__webpack_require__(168),__webpack_require__(10),__webpack_require__(1012),__webpack_require__(509),__webpack_require__(117),__webpack_require__(28);var componentOnReady=function componentOnReady(el,callback){el.componentOnReady?el.componentOnReady().then((function(resolvedEl){return callback(resolvedEl)})):raf((function(){return callback(el)}))},inheritAttributes=function inheritAttributes(el){var attributes=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],attributeObject={};return attributes.forEach((function(attr){el.hasAttribute(attr)&&(null!==el.getAttribute(attr)&&(attributeObject[attr]=el.getAttribute(attr)),el.removeAttribute(attr))})),attributeObject},addEventListener=function addEventListener(el,eventName,callback,opts){if("undefined"!=typeof window){var win=window,config=win&&win.Ionic&&win.Ionic.config;if(config){var ael=config.get("_ael");if(ael)return ael(el,eventName,callback,opts);if(config._ael)return config._ael(el,eventName,callback,opts)}}return el.addEventListener(eventName,callback,opts)},removeEventListener=function removeEventListener(el,eventName,callback,opts){if("undefined"!=typeof window){var win=window,config=win&&win.Ionic&&win.Ionic.config;if(config){var rel=config.get("_rel");if(rel)return rel(el,eventName,callback,opts);if(config._rel)return config._rel(el,eventName,callback,opts)}}return el.removeEventListener(eventName,callback,opts)},getElementRoot=function getElementRoot(el){var fallback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:el;return el.shadowRoot||fallback},raf=function raf(h){return"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(h):"function"==typeof requestAnimationFrame?requestAnimationFrame(h):setTimeout(h)},hasShadowDom=function hasShadowDom(el){return!!el.shadowRoot&&!!el.attachShadow},findItemLabel=function findItemLabel(componentEl){var itemEl=componentEl.closest("ion-item");return itemEl?itemEl.querySelector("ion-label"):null},getAriaLabel=function getAriaLabel(componentEl,inputId){var labelText,labelledBy=componentEl.getAttribute("aria-labelledby"),componentId=componentEl.id,labelId=null!==labelledBy&&""!==labelledBy.trim()?labelledBy:inputId+"-lbl",label=null!==labelledBy&&""!==labelledBy.trim()?document.getElementById(labelledBy):findItemLabel(componentEl);return label?(null===labelledBy&&(label.id=labelId),labelText=label.textContent,label.setAttribute("aria-hidden","true")):""!==componentId.trim()&&(label=document.querySelector('label[for="'+componentId+'"]'))&&(""!==label.id?labelId=label.id:label.id=labelId=componentId+"-lbl",labelText=label.textContent),{label:label,labelId:labelId,labelText:labelText}},renderHiddenInput=function renderHiddenInput(always,container,name,value,disabled){if(always||hasShadowDom(container)){var input=container.querySelector("input.aux-input");input||((input=container.ownerDocument.createElement("input")).type="hidden",input.classList.add("aux-input"),container.appendChild(input)),input.disabled=disabled,input.name=name,input.value=value||""}},clamp=function clamp(min,n,max){return Math.max(min,Math.min(n,max))},assert=function assert(actual,reason){if(!actual){var message="ASSERT: "+reason;throw console.error(message),new Error(message)}},now=function now(ev){return ev.timeStamp||Date.now()},pointerCoord=function pointerCoord(ev){if(ev){var changedTouches=ev.changedTouches;if(changedTouches&&changedTouches.length>0){var touch=changedTouches[0];return{x:touch.clientX,y:touch.clientY}}if(void 0!==ev.pageX)return{x:ev.pageX,y:ev.pageY}}return{x:0,y:0}},isEndSide=function isEndSide(side){var isRTL="rtl"===document.dir;switch(side){case"start":return isRTL;case"end":return!isRTL;default:throw new Error('"'+side+'" is not a valid value for [side]. Use "start" or "end" instead.')}},debounceEvent=function debounceEvent(event,wait){var original=event._original||event;return{_original:event,emit:debounce(original.emit.bind(original),wait)}},debounce=function debounce(func){var timer,wait=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){clearTimeout(timer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];timer=setTimeout.apply(void 0,[func,wait].concat(args))}}},1012:function(module,exports,__webpack_require__){__webpack_require__(22)({target:"Date",stat:!0},{now:function now(){return(new Date).getTime()}})},970:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ion_router",(function(){return Router}));__webpack_require__(70),__webpack_require__(51),__webpack_require__(28),__webpack_require__(12),__webpack_require__(340),__webpack_require__(32),__webpack_require__(82),__webpack_require__(38),__webpack_require__(168),__webpack_require__(130),__webpack_require__(47),__webpack_require__(69),__webpack_require__(13),__webpack_require__(105),__webpack_require__(18),__webpack_require__(30),__webpack_require__(19),__webpack_require__(117),__webpack_require__(172),__webpack_require__(174),__webpack_require__(20),__webpack_require__(21),__webpack_require__(339),__webpack_require__(9),__webpack_require__(14),__webpack_require__(24),__webpack_require__(10),__webpack_require__(131);var _index_4644c745_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(146),_helpers_2a92b02c_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(1010);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var generatePath=function generatePath(segments){return"/"+segments.filter((function(s){return s.length>0})).join("/")},writePath=function writePath(history,root,useHash,path,direction,state,queryString){var url=function generateUrl(segments,useHash,queryString){var url=generatePath(segments);return useHash&&(url="#"+url),void 0!==queryString&&(url+="?"+queryString),url}([].concat(_toConsumableArray(parsePath(root).segments),_toConsumableArray(path)),useHash,queryString);"forward"===direction?history.pushState(state,"",url):history.replaceState(state,"",url)},chainToPath=function chainToPath(chain){var _step,path=[],_iterator=_createForOfIteratorHelper(chain);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step2,route=_step.value,_iterator2=_createForOfIteratorHelper(route.path);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var segment=_step2.value;if(":"===segment[0]){var param=route.params&&route.params[segment.slice(1)];if(!param)return null;path.push(param)}else""!==segment&&path.push(segment)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return path},parsePath=function parsePath(path){var queryString,segments=[""];if(null!=path){var qsStart=path.indexOf("?");qsStart>-1&&(queryString=path.substr(qsStart+1),path=path.substr(0,qsStart)),0===(segments=path.split("/").map((function(s){return s.trim()})).filter((function(s){return s.length>0}))).length&&(segments=[""])}return{segments:segments,queryString:queryString}},printRoutes=function printRoutes(routes){console.group("[ion-core] ROUTES["+routes.length+"]");var _step3,_loop=function _loop(chain){var path=[];chain.forEach((function(r){return path.push.apply(path,_toConsumableArray(r.path))}));var ids=chain.map((function(r){return r.id}));console.debug("%c "+generatePath(path),"font-weight: bold; padding-left: 20px","=>\t","("+ids.join(", ")+")")},_iterator3=_createForOfIteratorHelper(routes);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){_loop(_step3.value)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}console.groupEnd()},printRedirects=function printRedirects(redirects){console.group("[ion-core] REDIRECTS["+redirects.length+"]");var _step4,_iterator4=_createForOfIteratorHelper(redirects);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var redirect=_step4.value;redirect.to&&console.debug("FROM: ","$c "+generatePath(redirect.from),"font-weight: bold"," TO: ","$c "+generatePath(redirect.to.segments),"font-weight: bold")}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}console.groupEnd()},_writeNavState=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(root,chain,direction,index){var changed,animation,outlet,route,result,_args=arguments;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(changed=_args.length>4&&void 0!==_args[4]&&_args[4],animation=_args.length>5?_args[5]:void 0,_context.prev=2,outlet=searchNavNode(root),!(index>=chain.length)&&outlet){_context.next=6;break}return _context.abrupt("return",changed);case 6:return _context.next=8,new Promise((function(resolve){return Object(_helpers_2a92b02c_js__WEBPACK_IMPORTED_MODULE_29__.c)(outlet,resolve)}));case 8:return route=chain[index],_context.next=11,outlet.setRouteId(route.id,route.params,direction,animation);case 11:return(result=_context.sent).changed&&(direction="root",changed=!0),_context.next=15,_writeNavState(result.element,chain,direction,index+1,changed,animation);case 15:if(changed=_context.sent,!result.markVisible){_context.next=19;break}return _context.next=19,result.markVisible();case 19:return _context.abrupt("return",changed);case 22:return _context.prev=22,_context.t0=_context.catch(2),console.error(_context.t0),_context.abrupt("return",!1);case 26:case"end":return _context.stop()}}),_callee,null,[[2,22]])})));return function writeNavState(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)}}(),readNavState=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(root){var ids,outlet,node,id;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:ids=[],node=root;case 2:if(!(outlet=searchNavNode(node))){_context2.next=17;break}return _context2.next=7,outlet.getRouteId();case 7:if(!(id=_context2.sent)){_context2.next=14;break}node=id.element,id.element=void 0,ids.push(id),_context2.next=15;break;case 14:return _context2.abrupt("break",20);case 15:_context2.next=18;break;case 17:return _context2.abrupt("break",20);case 18:_context2.next=2;break;case 20:return _context2.abrupt("return",{ids:ids,outlet:outlet});case 21:case"end":return _context2.stop()}}),_callee2)})));return function readNavState(_x5){return _ref2.apply(this,arguments)}}(),waitUntilNavNode=function waitUntilNavNode(){return searchNavNode(document.body)?Promise.resolve():new Promise((function(resolve){window.addEventListener("ionNavWillLoad",resolve,{once:!0})}))},QUERY=":not([no-router]) ion-nav, :not([no-router]) ion-tabs, :not([no-router]) ion-router-outlet",searchNavNode=function searchNavNode(root){if(root){if(root.matches(QUERY))return root;var outlet=root.querySelector(QUERY);return null!=outlet?outlet:void 0}},findRouteRedirect=function findRouteRedirect(path,redirects){return redirects.find((function(redirect){return function matchesRedirect(path,redirect){var from=redirect.from;if(void 0===redirect.to)return!1;if(from.length>path.length)return!1;for(var i=0;i<from.length;i++){var expected=from[i];if("*"===expected)return!0;if(expected!==path[i])return!1}return from.length===path.length}(path,redirect)}))},matchesIDs=function matchesIDs(ids,chain){for(var len=Math.min(ids.length,chain.length),i=0;i<len&&ids[i].toLowerCase()===chain[i].id;i++);return i},matchesPath=function matchesPath(inputPath,chain){for(var allparams,segments=new RouterSegments(inputPath),matchesDefault=!1,i=0;i<chain.length;i++){var path=chain[i].path;if(""===path[0])matchesDefault=!0;else{var _step5,_iterator5=_createForOfIteratorHelper(path);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var segment=_step5.value,data=segments.next();if(":"===segment[0]){if(""===data)return null;((allparams=allparams||[])[i]||(allparams[i]={}))[segment.slice(1)]=data}else if(data!==segment)return null}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}matchesDefault=!1}}return!matchesDefault||matchesDefault===(""===segments.next())?allparams?chain.map((function(route,i){return{id:route.id,path:route.path,params:mergeParams(route.params,allparams[i]),beforeEnter:route.beforeEnter,beforeLeave:route.beforeLeave}})):chain:null},mergeParams=function mergeParams(a,b){return a||b?Object.assign(Object.assign({},a),b):void 0},routerIDsToChain=function routerIDsToChain(ids,chains){var _step6,match=null,maxMatches=0,plainIDs=ids.map((function(i){return i.id})),_iterator6=_createForOfIteratorHelper(chains);try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var chain=_step6.value,score=matchesIDs(plainIDs,chain);score>maxMatches&&(match=chain,maxMatches=score)}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}return match?match.map((function(route,i){return{id:route.id,path:route.path,params:mergeParams(route.params,ids[i]&&ids[i].params)}})):null},routerPathToChain=function routerPathToChain(path,chains){var _step7,match=null,matches=0,_iterator7=_createForOfIteratorHelper(chains);try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var chain=_step7.value,matchedChain=matchesPath(path,chain);if(null!==matchedChain){var score=computePriority(matchedChain);score>matches&&(matches=score,match=matchedChain)}}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}return match},computePriority=function computePriority(chain){var _step8,score=1,level=1,_iterator8=_createForOfIteratorHelper(chain);try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _step9,_iterator9=_createForOfIteratorHelper(_step8.value.path);try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var path=_step9.value;":"===path[0]?score+=Math.pow(1,level):""!==path&&(score+=Math.pow(2,level)),level++}}catch(err){_iterator9.e(err)}finally{_iterator9.f()}}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}return score},RouterSegments=function(){function RouterSegments(path){_classCallCheck(this,RouterSegments),this.path=path.slice()}return _createClass(RouterSegments,[{key:"next",value:function next(){return this.path.length>0?this.path.shift():""}}]),RouterSegments}(),readProp=function readProp(el,prop){return prop in el?el[prop]:el.hasAttribute(prop)?el.getAttribute(prop):null},readRedirects=function readRedirects(root){return Array.from(root.children).filter((function(el){return"ION-ROUTE-REDIRECT"===el.tagName})).map((function(el){var to=readProp(el,"to");return{from:parsePath(readProp(el,"from")).segments,to:null==to?void 0:parsePath(to)}}))},readRoutes=function readRoutes(root){return flattenRouterTree(readRouteNodes(root))},readRouteNodes=function readRouteNodes(node){return Array.from(node.children).filter((function(el){return"ION-ROUTE"===el.tagName&&el.component})).map((function(el){var component=readProp(el,"component");return{path:parsePath(readProp(el,"url")).segments,id:component.toLowerCase(),params:el.componentProps,beforeLeave:el.beforeLeave,beforeEnter:el.beforeEnter,children:readRouteNodes(el)}}))},flattenRouterTree=function flattenRouterTree(nodes){var _step10,chains=[],_iterator10=_createForOfIteratorHelper(nodes);try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var node=_step10.value;flattenNode([],chains,node)}}catch(err){_iterator10.e(err)}finally{_iterator10.f()}return chains},flattenNode=function flattenNode(chain,chains,node){if((chain=chain.slice()).push({id:node.id,path:node.path,params:node.params,beforeLeave:node.beforeLeave,beforeEnter:node.beforeEnter}),0!==node.children.length){var _step11,_iterator11=_createForOfIteratorHelper(node.children);try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){flattenNode(chain,chains,_step11.value)}}catch(err){_iterator11.e(err)}finally{_iterator11.f()}}else chains.push(chain)},Router=function(){function Router(hostRef){_classCallCheck(this,Router),Object(_index_4644c745_js__WEBPACK_IMPORTED_MODULE_28__.m)(this,hostRef),this.ionRouteWillChange=Object(_index_4644c745_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"ionRouteWillChange",7),this.ionRouteDidChange=Object(_index_4644c745_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"ionRouteDidChange",7),this.previousPath=null,this.busy=!1,this.state=0,this.lastState=0,this.root="/",this.useHash=!0}var _writeNavState2,_runGuards,_lock,_safeWriteNavState,_writeNavStateRoot,_navChanged,_printDebug,_push,_canTransition,_onPopState,_componentWillLoad;return _createClass(Router,[{key:"componentWillLoad",value:(_componentWillLoad=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var canProceed,redirect,path;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,waitUntilNavNode();case 2:return _context3.next=4,this.runGuards(this.getPath());case 4:if(!0===(canProceed=_context3.sent)){_context3.next=14;break}if("object"!=typeof canProceed){_context3.next=12;break}return redirect=canProceed.redirect,path=parsePath(redirect),this.setPath(path.segments,"root",path.queryString),_context3.next=12,this.writeNavStateRoot(path.segments,"root");case 12:_context3.next=16;break;case 14:return _context3.next=16,this.onRoutesChanged();case 16:case"end":return _context3.stop()}}),_callee3,this)}))),function componentWillLoad(){return _componentWillLoad.apply(this,arguments)})},{key:"componentDidLoad",value:function componentDidLoad(){window.addEventListener("ionRouteRedirectChanged",Object(_helpers_2a92b02c_js__WEBPACK_IMPORTED_MODULE_29__.m)(this.onRedirectChanged.bind(this),10)),window.addEventListener("ionRouteDataChanged",Object(_helpers_2a92b02c_js__WEBPACK_IMPORTED_MODULE_29__.m)(this.onRoutesChanged.bind(this),100))}},{key:"onPopState",value:(_onPopState=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var direction,segments,canProceed;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return direction=this.historyDirection(),segments=this.getPath(),_context4.next=4,this.runGuards(segments);case 4:if(!0===(canProceed=_context4.sent)){_context4.next=11;break}if("object"!=typeof canProceed){_context4.next=10;break}segments=parsePath(canProceed.redirect).segments,_context4.next=11;break;case 10:return _context4.abrupt("return",!1);case 11:return _context4.abrupt("return",this.writeNavStateRoot(segments,direction));case 12:case"end":return _context4.stop()}}),_callee4,this)}))),function onPopState(){return _onPopState.apply(this,arguments)})},{key:"onBackButton",value:function onBackButton(ev){var _this=this;ev.detail.register(0,(function(processNextHandler){_this.back(),processNextHandler()}))}},{key:"canTransition",value:(_canTransition=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){var canProceed;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,this.runGuards();case 2:if(!0===(canProceed=_context5.sent)){_context5.next=9;break}if("object"!=typeof canProceed){_context5.next=8;break}return _context5.abrupt("return",canProceed.redirect);case 8:return _context5.abrupt("return",!1);case 9:return _context5.abrupt("return",!0);case 10:case"end":return _context5.stop()}}),_callee5,this)}))),function canTransition(){return _canTransition.apply(this,arguments)})},{key:"push",value:(_push=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(url){var direction,animation,parsedPath,canProceed,_args6=arguments;return regeneratorRuntime.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return direction=_args6.length>1&&void 0!==_args6[1]?_args6[1]:"forward",animation=_args6.length>2?_args6[2]:void 0,url.startsWith(".")&&(url=new URL(url,window.location.href).pathname),parsedPath=parsePath(url),_context6.next=6,this.runGuards(parsedPath.segments);case 6:if(!0===(canProceed=_context6.sent)){_context6.next=13;break}if("object"!=typeof canProceed){_context6.next=12;break}parsedPath=parsePath(canProceed.redirect),_context6.next=13;break;case 12:return _context6.abrupt("return",!1);case 13:return this.setPath(parsedPath.segments,direction,parsedPath.queryString),_context6.abrupt("return",this.writeNavStateRoot(parsedPath.segments,direction,animation));case 15:case"end":return _context6.stop()}}),_callee6,this)}))),function push(_x6){return _push.apply(this,arguments)})},{key:"back",value:function back(){return window.history.back(),Promise.resolve(this.waitPromise)}},{key:"printDebug",value:(_printDebug=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(){return regeneratorRuntime.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:printRoutes(readRoutes(this.el)),printRedirects(readRedirects(this.el));case 2:case"end":return _context7.stop()}}),_callee7,this)}))),function printDebug(){return _printDebug.apply(this,arguments)})},{key:"navChanged",value:(_navChanged=_asyncToGenerator(regeneratorRuntime.mark((function _callee8(direction){var _yield$readNavState,ids,outlet,routes,chain,path;return regeneratorRuntime.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(!this.busy){_context8.next=3;break}return console.warn("[ion-router] router is busy, navChanged was cancelled"),_context8.abrupt("return",!1);case 3:return _context8.next=5,readNavState(window.document.body);case 5:if(_yield$readNavState=_context8.sent,ids=_yield$readNavState.ids,outlet=_yield$readNavState.outlet,routes=readRoutes(this.el),chain=routerIDsToChain(ids,routes)){_context8.next=13;break}return console.warn("[ion-router] no matching URL for ",ids.map((function(i){return i.id}))),_context8.abrupt("return",!1);case 13:if(path=chainToPath(chain)){_context8.next=17;break}return console.warn("[ion-router] router could not match path because some required param is missing"),_context8.abrupt("return",!1);case 17:return this.setPath(path,direction),_context8.next=20,this.safeWriteNavState(outlet,chain,"root",path,null,ids.length);case 20:return _context8.abrupt("return",!0);case 21:case"end":return _context8.stop()}}),_callee8,this)}))),function navChanged(_x7){return _navChanged.apply(this,arguments)})},{key:"onRedirectChanged",value:function onRedirectChanged(){var path=this.getPath();path&&findRouteRedirect(path,readRedirects(this.el))&&this.writeNavStateRoot(path,"root")}},{key:"onRoutesChanged",value:function onRoutesChanged(){return this.writeNavStateRoot(this.getPath(),"root")}},{key:"historyDirection",value:function historyDirection(){var _a,win=window;null===win.history.state&&(this.state++,win.history.replaceState(this.state,win.document.title,null===(_a=win.document.location)||void 0===_a?void 0:_a.href));var state=win.history.state,lastState=this.lastState;return this.lastState=state,state>lastState||state>=lastState&&lastState>0?"forward":state<lastState?"back":"root"}},{key:"writeNavStateRoot",value:(_writeNavStateRoot=_asyncToGenerator(regeneratorRuntime.mark((function _callee9(path,direction,animation){var redirects,redirect,redirectFrom,_redirect$to,segments,queryString,routes,chain;return regeneratorRuntime.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:if(path){_context9.next=3;break}return console.error("[ion-router] URL is not part of the routing set"),_context9.abrupt("return",!1);case 3:if(redirects=readRedirects(this.el),redirect=findRouteRedirect(path,redirects),redirectFrom=null,redirect&&(_redirect$to=redirect.to,segments=_redirect$to.segments,queryString=_redirect$to.queryString,this.setPath(segments,direction,queryString),redirectFrom=redirect.from,path=segments),routes=readRoutes(this.el),chain=routerPathToChain(path,routes)){_context9.next=12;break}return console.error("[ion-router] the path does not match any route"),_context9.abrupt("return",!1);case 12:return _context9.abrupt("return",this.safeWriteNavState(document.body,chain,direction,path,redirectFrom,0,animation));case 13:case"end":return _context9.stop()}}),_callee9,this)}))),function writeNavStateRoot(_x8,_x9,_x10){return _writeNavStateRoot.apply(this,arguments)})},{key:"safeWriteNavState",value:(_safeWriteNavState=_asyncToGenerator(regeneratorRuntime.mark((function _callee10(node,chain,direction,path,redirectFrom){var index,animation,unlock,changed,_args10=arguments;return regeneratorRuntime.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return index=_args10.length>5&&void 0!==_args10[5]?_args10[5]:0,animation=_args10.length>6?_args10[6]:void 0,_context10.next=4,this.lock();case 4:return unlock=_context10.sent,changed=!1,_context10.prev=6,_context10.next=9,this.writeNavState(node,chain,direction,path,redirectFrom,index,animation);case 9:changed=_context10.sent,_context10.next=15;break;case 12:_context10.prev=12,_context10.t0=_context10.catch(6),console.error(_context10.t0);case 15:return unlock(),_context10.abrupt("return",changed);case 17:case"end":return _context10.stop()}}),_callee10,this,[[6,12]])}))),function safeWriteNavState(_x11,_x12,_x13,_x14,_x15){return _safeWriteNavState.apply(this,arguments)})},{key:"lock",value:(_lock=_asyncToGenerator(regeneratorRuntime.mark((function _callee11(){var p,resolve;return regeneratorRuntime.wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:if(p=this.waitPromise,this.waitPromise=new Promise((function(r){return resolve=r})),void 0===p){_context11.next=5;break}return _context11.next=5,p;case 5:return _context11.abrupt("return",resolve);case 6:case"end":return _context11.stop()}}),_callee11,this)}))),function lock(){return _lock.apply(this,arguments)})},{key:"runGuards",value:(_runGuards=_asyncToGenerator(regeneratorRuntime.mark((function _callee12(){var to,from,routes,fromChain,beforeLeaveHook,canLeave,toChain,beforeEnterHook,_args12=arguments;return regeneratorRuntime.wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:if(to=_args12.length>0&&void 0!==_args12[0]?_args12[0]:this.getPath(),void 0===(from=_args12.length>1?_args12[1]:void 0)&&(from=parsePath(this.previousPath).segments),to&&from){_context12.next=5;break}return _context12.abrupt("return",!0);case 5:if(routes=readRoutes(this.el),fromChain=routerPathToChain(from,routes),!(beforeLeaveHook=fromChain&&fromChain[fromChain.length-1].beforeLeave)){_context12.next=14;break}return _context12.next=11,beforeLeaveHook();case 11:_context12.t0=_context12.sent,_context12.next=15;break;case 14:_context12.t0=!0;case 15:if(!1!==(canLeave=_context12.t0)&&"object"!=typeof canLeave){_context12.next=18;break}return _context12.abrupt("return",canLeave);case 18:return toChain=routerPathToChain(to,routes),beforeEnterHook=toChain&&toChain[toChain.length-1].beforeEnter,_context12.abrupt("return",!beforeEnterHook||beforeEnterHook());case 21:case"end":return _context12.stop()}}),_callee12,this)}))),function runGuards(){return _runGuards.apply(this,arguments)})},{key:"writeNavState",value:(_writeNavState2=_asyncToGenerator(regeneratorRuntime.mark((function _callee13(node,chain,direction,path,redirectFrom){var index,animation,routeEvent,changed,_args13=arguments;return regeneratorRuntime.wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:if(index=_args13.length>5&&void 0!==_args13[5]?_args13[5]:0,animation=_args13.length>6?_args13[6]:void 0,!this.busy){_context13.next=5;break}return console.warn("[ion-router] router is busy, transition was cancelled"),_context13.abrupt("return",!1);case 5:return this.busy=!0,(routeEvent=this.routeChangeEvent(path,redirectFrom))&&this.ionRouteWillChange.emit(routeEvent),_context13.next=10,_writeNavState(node,chain,direction,index,!1,animation);case 10:return changed=_context13.sent,this.busy=!1,routeEvent&&this.ionRouteDidChange.emit(routeEvent),_context13.abrupt("return",changed);case 14:case"end":return _context13.stop()}}),_callee13,this)}))),function writeNavState(_x16,_x17,_x18,_x19,_x20){return _writeNavState2.apply(this,arguments)})},{key:"setPath",value:function setPath(path,direction,queryString){this.state++,writePath(window.history,this.root,this.useHash,path,direction,this.state,queryString)}},{key:"getPath",value:function getPath(){return function readPath(loc,root,useHash){var prefix=parsePath(root).segments,pathname=useHash?loc.hash.slice(1):loc.pathname;return function removePrefix(prefix,path){if(prefix.length>path.length)return null;if(prefix.length<=1&&""===prefix[0])return path;for(var i=0;i<prefix.length;i++)if(prefix[i]!==path[i])return null;return path.length===prefix.length?[""]:path.slice(prefix.length)}(prefix,parsePath(pathname).segments)}(window.location,this.root,this.useHash)}},{key:"routeChangeEvent",value:function routeChangeEvent(path,redirectFromPath){var from=this.previousPath,to=generatePath(path);return this.previousPath=to,to===from?null:{from:from,redirectedFrom:redirectFromPath?generatePath(redirectFromPath):null,to:to}}},{key:"el",get:function get(){return Object(_index_4644c745_js__WEBPACK_IMPORTED_MODULE_28__.g)(this)}}]),Router}()}}]);